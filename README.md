# Markdown Tree Editor

트리 구조로 마크다운 문서를 편집하고 관리하는 웹 애플리케이션입니다.

## 주요 기능

### 1. 트리 구조 편집
- 왼쪽 사이드바에서 접기/펼치기 가능한 트리 뷰
- 각 노드에 파일 아이콘과 Heading 레벨(H1, H2 등) 표시
- 노드 클릭 시 선택 상태 표시 (파란색 배경)
- 마우스 오버 시 추가/삭제 버튼 표시

### 2. 드래그 앤 드롭
- 노드를 드래그하여 다른 부모 아래로 이동 가능
- 드래그 중 파란색 점선 테두리로 시각적 피드백
- 이동 시 Heading 레벨 자동 조정 (부모 레벨 + 1)
- 순환 참조 방지 (자식을 부모로 드래그 불가)
- Root 노드는 드래그 불가

### 3. 편집 기능
- 우측 영역에서 선택된 노드의 제목과 내용 편집
- 제목은 input 필드, 내용은 textarea
- 미리보기/편집 모드 토글 버튼 (Eye/Edit3 아이콘)
- 미리보기 모드에서 마크다운 렌더링:
  - 헤딩 (#, ##, ###)
  - 볼드 (**텍스트**)
  - 이탤릭 (*텍스트*)
  - 인라인 코드 (`코드`)
  - 코드 블록 (```)
  - 리스트 (-, 1.)
  - 인용구 (>)
  - 링크 ([텍스트](url))

### 4. 노드 관리
- 노드 추가: 상단 "추가" 버튼 또는 각 노드의 + 버튼
- 노드 삭제: 각 노드의 휴지통 버튼
- 새 노드는 부모 레벨 + 1로 생성

### 5. 파일 관리 (File System Access API)
- **폴더 선택**: 로컬 폴더 선택 후 작업
- **저장**: 현재 문서를 `data/` 폴더에 버전별로 저장
  - 예: `README-v1.md`, `README-v2.md`, `README-v3.md`
  - `metadata.json`에 버전 정보 기록
- **가져오기**: .md 파일 업로드하여 헤딩 기반 트리 구조 생성
- **내보내기**: 현재 트리를 .md 파일로 다운로드

### 6. 버전 관리
- 수정 후 "저장" 버튼 클릭 시 새로운 버전 생성
- "버전" 버튼 클릭 시 모달로 히스토리 표시 (역순)
- 각 버전에 타임스탬프, 설명, 파일 경로, 복구 버튼 표시
- 복구 버튼 클릭 시 해당 버전의 파일 로드
- 모든 버전은 실제 로컬 파일 시스템에 저장

## 로컬 파일 구조

```
선택한 폴더/
└── data/
    ├── README-v1.md
    ├── README-v2.md
    ├── README-v3.md
    └── metadata.json
```

### metadata.json 예시
```json
{
  "documentName": "README",
  "currentVersion": 3,
  "versions": [
    {
      "id": 1,
      "timestamp": "2025-11-12T10:00:00Z",
      "description": "초기 버전",
      "filePath": "data/README-v1.md"
    },
    {
      "id": 2,
      "timestamp": "2025-11-12T10:05:00Z",
      "description": "내용 수정",
      "filePath": "data/README-v2.md"
    },
    {
      "id": 3,
      "timestamp": "2025-11-12T10:10:00Z",
      "description": "수동 저장",
      "filePath": "data/README-v3.md"
    }
  ]
}
```

## 기술 스택

- **React 18** - UI 라이브러리
- **Vite** - 빌드 도구
- **Tailwind CSS** - 스타일링
- **Lucide React** - 아이콘
- **File System Access API** - 로컬 파일 시스템 접근

## 시작하기

### 설치

```bash
npm install
```

### 개발 서버 실행

```bash
npm run dev
```

브라우저에서 http://localhost:3000 접속

### 프로덕션 빌드

```bash
npm run build
```

### 빌드 미리보기

```bash
npm run preview
```

## 사용 방법

1. **폴더 선택**: 상단의 "폴더 선택" 버튼을 클릭하여 작업할 로컬 폴더 선택
2. **편집**: 왼쪽 트리에서 노드 선택 후 오른쪽에서 제목/내용 편집
3. **저장**: "저장" 버튼을 클릭하여 현재 문서를 새 버전으로 저장
4. **버전 확인**: "버전" 버튼을 클릭하여 히스토리 확인
5. **복구**: 이전 버전의 "복구" 버튼을 클릭하여 되돌리기

## 브라우저 호환성

File System Access API를 사용하므로 다음 브라우저에서만 동작합니다:
- Chrome/Edge 86+
- Safari 15.2+ (제한적)

Firefox는 현재 지원하지 않습니다.

## 라이선스

MIT
